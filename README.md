## 4-3 Laravel・ユニットテスト

---

- 目標：Laravel を使った開発に慣れる、ユニットテストの書き方やテストしやすいコードについて理解する
- 期間：10~15 日

### 具体的な目標

---

- Laravel を使った開発を進めることができる
- Model, View, Controller の責務を踏まえて実装することができる
- 依存注入を使ってテストしやすいコードを書くことができる
- PHPUnit と Mockery を使ったユニットテストを実装することができる

### アウトプット

---

- 4-2 の開発環境に Laravel を加えたローカル開発環境を構築する
- 4-2 の本番環境に Laravel を加えた本番環境を構築する
- 4-2 で実装した機能を Laravel を使って改めて実装する
- PHPUnit + Mockery でユニットテストを実装する
  - Composer を使って PHPUnit と Mockery をインストールする
  - ユーザー登録機能のユニットテストの実装
  - ログイン機能のユニットテストの実装
  - 記事作成機能のユニットテストの実装
  - 記事編集機能のユニットテストの実装
  - 記事削除機能のユニットテストの実装
  - 記事閲覧機能のユニットテストの実装

## 使用技術

---

Docker v20.10.5

PHP v7.4

Laravel v6.20.26

MySQL v5.7

## 環境構築

---

下記のコマンドを実行し、http://localhost にアクセスしてください

```
$ make init
```

## テストについて

---

下記のコマンドを実行することでテストを実行することができます

```
$ make test
```

- **実施した Unit テスト**

  - FormRequest（記事の作成・更新、ユーザーの新規登録、タグの作成）
  - Model（記事とユーザーのモデル）
  - Repository（全てのリポジトリ）
  - Uploader（画像アップロード）

- **実施した Feature テスト**
  - Controller（全てのコントローラー）

※ Usecase のテストは行っておりません。理由として、1 コントローラー 1 ユーズケースで作成しているためです。
